<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SomuNexus - Admin Chat</title>
    <link rel="icon" type="image/png" href="icon/Mekxus_logo_no bg.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #d4af37; --dark: #0a0a0a; --gray: #1a1a1a; }
        body { margin: 0; font-family: 'Poppins', sans-serif; background: var(--dark); color: white; display: flex; flex-direction: column; height: 100vh; }
        
        /* Top Header - Brand Name */
        .top-nav { background: #000; padding: 15px 25px; border-bottom: 2px solid var(--gold); display: flex; align-items: center; }
        .top-nav h2 { margin: 0; color: var(--gold); letter-spacing: 2px; font-size: 22px; text-transform: uppercase; }

        .main-layout { display: flex; flex: 1; overflow: hidden; }

        /* Left Sidebar */
        .user-sidebar { width: 320px; background: var(--gray); border-right: 1px solid #333; display: flex; flex-direction: column; }
        .sidebar-header { padding: 20px; background: #111; border-bottom: 1px solid #222; }
        .user-list { flex: 1; overflow-y: auto; }
        .user-item { padding: 15px; border-bottom: 1px solid #222; cursor: pointer; transition: 0.3s; display: flex; align-items: center; gap: 12px; }
        .user-item:hover { background: #222; }
        .user-item.active { border-left: 4px solid var(--gold); background: #252525; }
        .user-avatar { width: 45px; height: 45px; border-radius: 50%; background: var(--gold); color: black; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 18px; }

        /* Right Window - Chat Area */
        .chat-container { flex: 1; display: flex; flex-direction: column; background: #050505; }
        .chat-header { padding: 15px 25px; background: #111; border-bottom: 1px solid #333; display: flex; align-items: center; gap: 10px; }
        .chat-messages { flex: 1; padding: 25px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; background-color: #050505; /* ‡¶á‡¶Æ‡ßá‡¶ú ‡¶è‡¶∞‡¶∞ ‡¶è‡ßú‡¶æ‡¶§‡ßá ‡¶∏‡¶≤‡¶ø‡¶° ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶≤‡¶æ‡¶Æ */ }
        
        /* Message Bubbles */
        .msg { padding: 12px 18px; border-radius: 18px; max-width: 65%; font-size: 14.5px; line-height: 1.5; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .received { background: #222; align-self: flex-start; color: #ddd; border-bottom-left-radius: 2px; }
        .sent { background: var(--gold); align-self: flex-end; color: black; border-bottom-right-radius: 2px; font-weight: 500; }

        /* Reply Box */
        .reply-box { padding: 20px; background: #111; display: flex; gap: 15px; align-items: center; border-top: 1px solid #333; }
        .reply-box input { flex: 1; background: #000; border: 1px solid #444; padding: 12px 20px; border-radius: 30px; color: white; outline: none; }
        .reply-box input:focus { border-color: var(--gold); }
        .reply-box button { background: var(--gold); border: none; width: 48px; height: 48px; border-radius: 50%; cursor: pointer; font-size: 18px; transition: 0.3s; color: black; }
        .reply-box button:hover { transform: scale(1.1); background: #fff; }
        .icon-btn { background: transparent !important; color: #888 !important; width: auto !important; height: auto !important; font-size: 20px !important; cursor: pointer; transition: 0.3s; }
        .icon-btn:hover { color: var(--gold) !important; }
        /* ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶Ü‡¶∏‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® */
.msg {
    animation: slideIn 0.4s cubic-bezier(0.1, 0.9, 0.2, 1);
}

@keyframes slideIn {
    from { opacity: 0; transform: translateY(20px) scale(0.9); }
    to { opacity: 1; transform: translateY(0) scale(1); }
}

/* ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶¨‡¶æ‡¶¨‡¶≤ ‡¶™‡¶æ‡¶≤‡¶∏ ‡¶è‡¶´‡ßá‡¶ï‡ßç‡¶ü (‡¶®‡¶§‡ßÅ‡¶® ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶Ü‡¶∏‡¶≤‡ßá) */
.notification-badge {
    animation: bounce 1s infinite;
}

@keyframes bounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.3); }
}
/* ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶´‡¶ø‡¶≤ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ CSS */
    .msg {
        position: relative;
        transition: all 0.3s ease;
        word-wrap: break-word;
    }
    .msg {
    -webkit-user-select: none; /* iOS Safari */
    user-select: none;         /* ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡¶∂‡¶® ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶¨‡ßá */
    }
    
    /* ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶∞ ‡¶Ø‡¶ñ‡¶® ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡¶¨‡ßá ‡¶§‡¶ñ‡¶® ‡¶è‡¶ï‡¶ü‡¶æ ‡¶è‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® ‡¶è‡¶´‡ßá‡¶ï‡ßç‡¶ü */
    .received {
        background: #222;
        border: 1px solid #333;
        animation: slideInLeft 0.3s ease-out;
    }
    
    .sent {
        background: linear-gradient(135deg, #d4af37, #aa8928);
        color: #000;
        animation: slideInRight 0.3s ease-out;
    }

    @keyframes slideInLeft {
        from { opacity: 0; transform: translateX(-10px); }
        to { opacity: 1; transform: translateX(0); }
    }
    @keyframes slideInRight {
        from { opacity: 0; transform: translateX(10px); }
        to { opacity: 1; transform: translateX(0); }
    }
.emoji-picker {
    position: absolute;
    bottom: 90px;
    left: 20px;
    background: #111;
    border: 1px solid var(--gold);
    width: 250px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.5);
    z-index: 2000;
    overflow: hidden;
}

.emoji-tabs {
    display: flex;
    justify-content: space-around;
    padding: 10px;
    background: #000;
    border-bottom: 1px solid #222;
}

.emoji-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 8px;
    padding: 15px;
    max-height: 180px;
    overflow-y: auto;
}

.emoji-grid span {
    font-size: 22px;
    cursor: pointer;
    text-align: center;
    transition: 0.2s;
}

.emoji-grid span:hover { transform: scale(1.3); }

/* ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤‡¶¨‡¶æ‡¶∞ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
.emoji-grid::-webkit-scrollbar { width: 5px; }
.emoji-grid::-webkit-scrollbar-thumb { background: var(--gold); border-radius: 5px; }
.emoji-picker span:hover { transform: scale(1.3); }
.hidden { display: none; }
#admin-typing-status {
    animation: blink 1.5s infinite;
}

@keyframes blink {
    0% { opacity: 1; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
}
/* ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï ‡¶¨‡¶æ‡¶ü‡¶®‡¶ü‡¶ø ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü‡¶≠‡¶æ‡¶¨‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
@media (max-width: 768px) {
    .back-btn { 
        display: inline-block !important; 
        visibility: visible !important;
        z-index: 1000;
    }
    .user-sidebar { width: 100% !important; }
    .chat-container { width: 100% !important; }
}
/* ‡ß©-‡¶°‡¶ü ‡¶Æ‡ßá‡¶®‡ßÅ ‡¶è‡¶¨‡¶Ç ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶¨‡¶æ‡¶ü‡¶® ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
.user-item {
    position: relative; /* ‡¶Æ‡ßá‡¶®‡ßÅ‡¶ü‡¶ø‡¶ï‡ßá ‡¶™‡¶ú‡¶ø‡¶∂‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
    display: flex;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #333;
    cursor: pointer;
}

.user-options {
    margin-left: auto; /* ‡¶¨‡¶æ‡¶ü‡¶®‡¶ü‡¶ø‡¶ï‡ßá ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶°‡¶æ‡¶®‡¶™‡¶æ‡¶∂‡ßá ‡¶®‡ßá‡¶ì‡ßü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
}

.options-btn {
    background: none;
    border: none;
    color: #888;
    font-size: 18px;
    cursor: pointer;
    padding: 5px 10px;
    transition: 0.3s;
}

.options-btn:hover {
    color: #d4af37; /* ‡¶π‡ßã‡¶≠‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡ßã‡¶®‡¶æ‡¶≤‡ßÄ ‡¶∞‡¶ô ‡¶π‡¶¨‡ßá */
}

.options-menu {
    position: absolute;
    right: 10px;
    top: 40px;
    background: #1a1a1a;
    border: 1px solid #444;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    z-index: 1000;
    overflow: hidden;
}

.options-menu button {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    padding: 12px 20px;
    background: none;
    border: none;
    color: #ff4d4d; /* ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶¨‡¶æ‡¶ü‡¶® ‡¶≤‡¶æ‡¶≤ */
    text-align: left;
    cursor: pointer;
    font-size: 14px;
    white-space: nowrap;
}

.options-menu button:hover {
    background: #2c2c2c;
}

/* ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶≠‡¶ø‡¶â‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø (‡ß≠‡ß¨‡ßÆ ‡¶™‡¶ø‡¶ï‡ßç‡¶∏‡ßá‡¶≤‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá) */
@media screen and (max-width: 900px) {
    /* ‡¶Æ‡ßá‡¶á‡¶® ‡¶≤‡ßá‡¶Ü‡¶â‡¶ü ‡¶´‡¶ø‡¶ï‡ßç‡¶∏ */
    .main-layout {
        display: block !important;
        position: relative;
        overflow: hidden;
        height: 100vh;
    }

    /* ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü (‡¶¨‡¶æ‡¶Æ‡ßá) */
    .user-sidebar {
        width: 100% !important;
        position: absolute;
        left: 0;
        top: 0;
        z-index: 5;
    }

    /* ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶â‡¶á‡¶®‡ßç‡¶°‡ßã */
    .chat-container {
        width: 100% !important;
        position: fixed; /* ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶≠‡¶ø‡¶â‡¶§‡ßá ‡¶´‡¶ø‡¶ï‡ßç‡¶∏‡¶° ‡¶•‡¶æ‡¶ï‡¶æ ‡¶≠‡¶æ‡¶≤‡ßã */
        left: 100%; /* ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá‡¶∞ ‡¶¨‡¶æ‡¶á‡¶∞‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
        top: 0;
        height: 100%;
        z-index: 100; /* ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶∞ ‡¶ì‡¶™‡¶∞‡ßá */
        background: #000;
        transition: left 0.3s ease-in-out;
        display: none; 
    }

    /* ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶ø‡¶ü‡ßá‡¶á‡¶≤‡¶∏ (‡¶Ø‡ßá‡¶ü‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶ö‡ßç‡¶õ‡¶ø‡¶≤ ‡¶®‡¶æ) */
    .user-details-sidebar {
        width: 90% !important; 
        position: fixed !important; /* ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá‡¶∞ ‡¶ì‡¶™‡¶∞ ‡¶∏‡ßç‡¶•‡¶ø‡¶∞ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
        right: -100% !important; /* ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü‡¶≠‡¶æ‡¶¨‡ßá ‡¶°‡¶æ‡¶®‡ßá ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá‡¶∞ ‡¶¨‡¶æ‡¶á‡¶∞‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
        top: 0;
        height: 100% !important;
        z-index: 9999 !important; /* ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ‡¶∞ ‡¶ì‡¶™‡¶∞‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
        background: #121212 !important;
        transition: right 0.3s ease-in-out; /* ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶° ‡¶è‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® */
        display: none; /* ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶π‡¶æ‡¶á‡¶° */
    }

    /* ‡¶Ø‡¶ñ‡¶® ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶è‡¶ï‡¶ü‡¶ø‡¶≠ ‡¶π‡¶¨‡ßá */
    .main-layout.show-chat .chat-container {
        display: flex !important;
        left: 0;
    }

    /* ‡¶Ø‡¶ñ‡¶® ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶è‡¶ï‡¶ü‡¶ø‡¶≠ ‡¶π‡¶¨‡ßá (‡¶è‡¶ü‡¶ø‡¶á ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® ‡¶ï‡¶∞‡¶¨‡ßá) */
    .main-layout.show-details .user-details-sidebar {
        display: block !important;
        right: 0 !important; /* ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡ßá ‡¶ö‡¶≤‡ßá ‡¶Ü‡¶∏‡¶¨‡ßá */
    }

    .back-btn {
        display: block !important;
    }
}
    </style>
</head>
<body>

    <nav class="top-nav">
        <h2>SOMUNEXUS <span style="font-weight: 300; font-size: 14px; color: #888;">| ADMIN CHAT</span></h2>
    </nav>

    <div class="main-layout">
        <div class="user-sidebar">
            <div class="sidebar-header">
                <p style="margin:0; color: #888; font-size: 13px;">Recent Conversations</p>
            </div>
            <div id="user-list" class="user-list"></div>
        </div>

<div class="user-details-sidebar" id="user-details-sidebar" 
     style="width: 280px; background: #121212; border-left: 1px solid #333; padding: 20px; display: none; position: relative;">
    
    <button onclick="toggleDetails()" class="icon-btn" 
            style="color: #ff4d4d; position: absolute; right: 15px; top: 15px; background: none; border: none; cursor: pointer; font-size: 20px;">
        <i class="fas fa-times"></i>
    </button>

    <div style="text-align: center; margin-bottom: 20px; margin-top: 20px;">
        <div id="details-avatar" class="user-avatar" style="width: 80px; height: 80px; font-size: 30px; margin: 0 auto; background-color: #333; display: flex; align-items: center; justify-content: center; border-radius: 50%;"></div>
        <h3 id="details-name" style="color: white; margin-top: 10px;">User Name</h3>
        <p id="details-status" style="color: #25d366; font-size: 12px;">Online</p>
    </div>
    
    <hr style="border: 0.5px solid #333;">
    
    <div style="color: #888; font-size: 13px; line-height: 1.8;">
        <p><strong>Phone:</strong> <br><span id="details-phone" style="color: #ccc;">Loading...</span></p>
        <p><strong>Email:</strong> <br><span id="details-email" style="color: #ccc;">Loading...</span></p>
        <p><strong>Location:</strong> <br><span id="details-location" style="color: #ccc;">Unknown</span></p>
    </div>
</div>

 <div class="chat-container">
<div class="chat-header" style="display: flex; align-items: center; padding: 10px;">
    <button onclick="closeChat()" class="back-btn" style="display: none; border: none; background: none; color: gold; margin-right: 10px; font-size: 18px; cursor: pointer;">
        <i class="fas fa-arrow-left"></i>
    </button>
    
    <div onclick="toggleDetails()" style="display: flex; align-items: center; cursor: pointer; flex-grow: 1;">
        <div id="active-user-avatar" class="user-avatar" style="width:35px; height:35px; font-size: 14px;"></div>
        <div style="margin-left: 10px;">
            <h4 id="active-user-name" style="margin:0; color: white;">‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®...</h4>
            <small id="typing-status" style="color: #25d366; font-style: italic; display: none;">Typing...</small>
        </div>
    </div>
</div>
    <div id="admin-chat-messages" class="chat-messages"></div>
<div class="quick-replies" style="padding: 10px; display: flex; gap: 8px; flex-wrap: wrap; background: #121212; border-top: 1px solid #333;">
    <button onclick="setQuickReply('Welcome to SomuNexus! Assalamualaikum Sir/Madam, How can I help you.')" style="background: #e1b305; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 11px; font-weight: bold; color: #000;">Welcome</button>
    <button onclick="setQuickReply('Price is fixed, sir.')" style="background: #e1b305; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 11px; font-weight: bold; color: #000;">Fixed Price</button>
    <button onclick="setQuickReply('Order confirmed!')" style="background: #e1b305; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 11px; font-weight: bold; color: #000;">Confirm</button>
</div>

<div id="emoji-picker" class="emoji-picker hidden">
    <div class="emoji-tabs">
        <span onclick="filterEmoji('face')">üòä</span>
        <span onclick="filterEmoji('hand')">üëç</span>
        <span onclick="filterEmoji('heart')">‚ù§Ô∏è</span>
    </div>
    <div id="emoji-list" class="emoji-grid">
        </div>
</div>
<div class="reply-box">
<button class="icon-btn" onclick="toggleEmojiPicker()"><i class="far fa-smile"></i></button>
    
    <input type="text" id="admin-reply-input" placeholder="‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¨‡¶æ ‡¶á‡¶Æ‡ßá‡¶ú‡ßá‡¶∞ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶¶‡¶ø‡¶®...">
    <button onclick="sendAdminReply()" id="send-admin-btn">
        <i class="fas fa-paper-plane"></i>
    </button>
</div>
</div>
</div>
</div>

<script type="module" src="admin-chat.js"></script>

</body>
</html>